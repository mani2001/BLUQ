{
  "timestamp": "2025-12-08T01:19:07.508880",
  "summary": {
    "total_operations": 26,
    "total_time_ms": 1018425.648432225,
    "operations": {
      "dataset_loading": {
        "count": 5,
        "total_time_ms": 14969.526894390583,
        "avg_time_ms": 2993.9053788781166,
        "min_time_ms": 1745.8675876259804,
        "max_time_ms": 4489.942915737629,
        "avg_memory_delta_mb": 0.0
      },
      "dataset_processing": {
        "count": 5,
        "total_time_ms": 69693.78750771284,
        "avg_time_ms": 13938.757501542568,
        "min_time_ms": 36.27847135066986,
        "max_time_ms": 35766.75383374095,
        "avg_memory_delta_mb": 0.0
      },
      "model_loading": {
        "count": 5,
        "total_time_ms": 22347.11903706193,
        "avg_time_ms": 4469.423807412386,
        "min_time_ms": 2525.5052782595158,
        "max_time_ms": 11924.497246742249,
        "avg_memory_delta_mb": 4780.14501953125
      },
      "inference_calibration": {
        "count": 5,
        "total_time_ms": 463766.1871574819,
        "avg_time_ms": 92753.23743149638,
        "min_time_ms": 9031.994257122278,
        "max_time_ms": 168867.26504936814,
        "avg_memory_delta_mb": 176.1541015625
      },
      "inference_test": {
        "count": 3,
        "total_time_ms": 446807.91042000055,
        "avg_time_ms": 148935.9701400002,
        "min_time_ms": 107170.67217081785,
        "max_time_ms": 170285.22361814976,
        "avg_memory_delta_mb": 0.0
      },
      "probability_extraction": {
        "count": 3,
        "total_time_ms": 841.1174155771732,
        "avg_time_ms": 280.3724718590577,
        "min_time_ms": 273.9865146577358,
        "max_time_ms": 292.5824038684368,
        "avg_memory_delta_mb": 0.0
      }
    },
    "memory": {
      "peak_allocated_mb": 69302.27001953125,
      "avg_allocated_mb": 28943.506869757846,
      "avg_utilization_percent": 86.72943722943722,
      "snapshots_count": 462
    },
    "bottlenecks": [
      {
        "operation": "inference_calibration",
        "time_percent": 45.53755965115454,
        "recommendation": "Inference is slow. Consider: larger batch size, Flash Attention, or quantization."
      },
      {
        "operation": "inference_test",
        "time_percent": 43.87241337723783,
        "recommendation": "Inference is slow. Consider: larger batch size, Flash Attention, or quantization."
      }
    ]
  },
  "timing_records": [
    {
      "name": "dataset_loading",
      "duration_ms": 4489.942915737629,
      "gpu_memory_before_mb": 0.0,
      "gpu_memory_after_mb": 0.0,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "qa",
        "num_samples": 10000
      }
    },
    {
      "name": "dataset_processing",
      "duration_ms": 236.44909262657166,
      "gpu_memory_before_mb": 0.0,
      "gpu_memory_after_mb": 0.0,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "qa"
      }
    },
    {
      "name": "model_loading",
      "duration_ms": 11924.497246742249,
      "gpu_memory_before_mb": 0.0,
      "gpu_memory_after_mb": 4780.14501953125,
      "gpu_memory_delta_mb": 4780.14501953125,
      "metadata": {
        "model": "gemma-2b-it",
        "dtype": "float16"
      }
    },
    {
      "name": "inference_calibration",
      "duration_ms": 12568.229127675295,
      "gpu_memory_before_mb": 4780.14501953125,
      "gpu_memory_after_mb": 5146.91552734375,
      "gpu_memory_delta_mb": 366.7705078125,
      "metadata": {
        "model": "gemma-2b-it",
        "strategy": "base",
        "num_samples": 4998,
        "batch_size": 64
      }
    },
    {
      "name": "dataset_loading",
      "duration_ms": 2592.304114252329,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 8.125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "rc",
        "num_samples": 10000
      }
    },
    {
      "name": "dataset_processing",
      "duration_ms": 36.27847135066986,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 8.125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "rc"
      }
    },
    {
      "name": "model_loading",
      "duration_ms": 2605.831291526556,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 4780.14501953125,
      "metadata": {
        "model": "gemma-2b-it",
        "dtype": "float16"
      }
    },
    {
      "name": "inference_calibration",
      "duration_ms": 168867.26504936814,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "gemma-2b-it",
        "strategy": "base",
        "num_samples": 4999,
        "batch_size": 64
      }
    },
    {
      "name": "inference_test",
      "duration_ms": 170285.22361814976,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "gemma-2b-it",
        "strategy": "base",
        "num_samples": 5001,
        "batch_size": 64
      }
    },
    {
      "name": "probability_extraction",
      "duration_ms": 273.9865146577358,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "gemma-2b-it"
      }
    },
    {
      "name": "dataset_loading",
      "duration_ms": 4010.2816820144653,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 8.125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "ci",
        "num_samples": 10000
      }
    },
    {
      "name": "dataset_processing",
      "duration_ms": 41.93098843097687,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 8.125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "ci"
      }
    },
    {
      "name": "model_loading",
      "duration_ms": 2525.5052782595158,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 4780.14501953125,
      "metadata": {
        "model": "gemma-2b-it",
        "dtype": "float16"
      }
    },
    {
      "name": "inference_calibration",
      "duration_ms": 167995.0054064393,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "gemma-2b-it",
        "strategy": "base",
        "num_samples": 4999,
        "batch_size": 64
      }
    },
    {
      "name": "inference_test",
      "duration_ms": 169352.01463103294,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "gemma-2b-it",
        "strategy": "base",
        "num_samples": 5001,
        "batch_size": 64
      }
    },
    {
      "name": "probability_extraction",
      "duration_ms": 292.5824038684368,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "gemma-2b-it"
      }
    },
    {
      "name": "dataset_loading",
      "duration_ms": 2131.1305947601795,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 8.125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "drs",
        "num_samples": 10000
      }
    },
    {
      "name": "dataset_processing",
      "duration_ms": 33612.37512156367,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 8.125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "drs"
      }
    },
    {
      "name": "model_loading",
      "duration_ms": 2533.216893672943,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 4780.14501953125,
      "metadata": {
        "model": "gemma-2b-it",
        "dtype": "float16"
      }
    },
    {
      "name": "inference_calibration",
      "duration_ms": 105303.69331687689,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "gemma-2b-it",
        "strategy": "base",
        "num_samples": 4999,
        "batch_size": 64
      }
    },
    {
      "name": "inference_test",
      "duration_ms": 107170.67217081785,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "gemma-2b-it",
        "strategy": "base",
        "num_samples": 5001,
        "batch_size": 64
      }
    },
    {
      "name": "probability_extraction",
      "duration_ms": 274.5484970510006,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "gemma-2b-it"
      }
    },
    {
      "name": "dataset_loading",
      "duration_ms": 1745.8675876259804,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 8.125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "ds",
        "num_samples": 10000
      }
    },
    {
      "name": "dataset_processing",
      "duration_ms": 35766.75383374095,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 8.125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "ds"
      }
    },
    {
      "name": "model_loading",
      "duration_ms": 2758.0683268606663,
      "gpu_memory_before_mb": 8.125,
      "gpu_memory_after_mb": 4788.27001953125,
      "gpu_memory_delta_mb": 4780.14501953125,
      "metadata": {
        "model": "gemma-2b-it",
        "dtype": "float16"
      }
    },
    {
      "name": "inference_calibration",
      "duration_ms": 9031.994257122278,
      "gpu_memory_before_mb": 4788.27001953125,
      "gpu_memory_after_mb": 5302.27001953125,
      "gpu_memory_delta_mb": 514.0,
      "metadata": {
        "model": "gemma-2b-it",
        "strategy": "base",
        "num_samples": 4999,
        "batch_size": 64
      }
    }
  ],
  "snapshots_summary": {
    "count": 462,
    "memory_allocated_mb": [
      25788.9267578125,
      24695.142578125,
      23882.6171875,
      24882.6484375,
      24507.63671875,
      24820.146484375,
      25007.65234375,
      27538.9814453125,
      26163.9384765625,
      24695.142578125,
      24601.3896484375,
      24945.150390625,
      25195.158203125,
      24038.8720703125,
      24945.150390625,
      25132.65625,
      24382.6328125,
      24882.6484375,
      25538.9189453125,
      28665.0166015625,
      25726.9248046875,
      25320.162109375,
      24132.625,
      24757.64453125,
      24851.3974609375,
      25163.9072265625,
      25476.4169921875,
      23663.8603515625,
      24851.3974609375,
      24476.3857421875,
      24101.3740234375,
      25413.9150390625,
      24507.63671875,
      24413.8837890625,
      24851.3974609375,
      24601.3896484375,
      24445.134765625,
      24788.8955078125,
      24882.6484375,
      24820.146484375,
      24476.3857421875,
      24570.138671875,
      24757.64453125,
      24507.63671875,
      24726.3935546875,
      25163.9072265625,
      25132.65625,
      24320.130859375,
      24382.8828125,
      24538.8876953125,
      24507.63671875,
      25913.9306640625,
      26493.19287109375,
      24851.3974609375,
      25070.154296875,
      24913.8994140625,
      24101.3740234375,
      24632.640625,
      25226.4091796875,
      24851.3974609375,
      24788.8955078125,
      25632.921875,
      27132.96875,
      24413.8837890625,
      24663.8916015625,
      24163.8759765625,
      25601.4208984375,
      24226.3779296875,
      24351.3818359375,
      25788.9267578125,
      24413.8837890625,
      24257.62890625,
      24851.3974609375,
      4788.27001953125,
      2518.22314453125,
      282.14501953125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      8.125,
      2880.19140625,
      69302.27001953125,
      5302.27001953125,
      8.125,
      8.125
    ],
    "utilization_percent": [
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      0,
      16,
      18,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      28,
      100,
      100,
      0,
      0
    ]
  }
}