{
  "timestamp": "2025-12-10T02:22:44.385073",
  "summary": {
    "total_operations": 6,
    "total_time_ms": 244172.44037613273,
    "operations": {
      "dataset_loading": {
        "count": 1,
        "total_time_ms": 2231.5818145871162,
        "avg_time_ms": 2231.5818145871162,
        "min_time_ms": 2231.5818145871162,
        "max_time_ms": 2231.5818145871162,
        "avg_memory_delta_mb": 0.0
      },
      "dataset_processing": {
        "count": 1,
        "total_time_ms": 27.803149074316025,
        "avg_time_ms": 27.803149074316025,
        "min_time_ms": 27.803149074316025,
        "max_time_ms": 27.803149074316025,
        "avg_memory_delta_mb": 0.0
      },
      "model_loading": {
        "count": 1,
        "total_time_ms": 9297.269154340029,
        "avg_time_ms": 9297.269154340029,
        "min_time_ms": 9297.269154340029,
        "max_time_ms": 9297.269154340029,
        "avg_memory_delta_mb": 4196.35205078125
      },
      "inference_calibration": {
        "count": 1,
        "total_time_ms": 115679.73408102989,
        "avg_time_ms": 115679.73408102989,
        "min_time_ms": 115679.73408102989,
        "max_time_ms": 115679.73408102989,
        "avg_memory_delta_mb": 8.125
      },
      "inference_test": {
        "count": 1,
        "total_time_ms": 116581.01683482528,
        "avg_time_ms": 116581.01683482528,
        "min_time_ms": 116581.01683482528,
        "max_time_ms": 116581.01683482528,
        "avg_memory_delta_mb": 0.0
      },
      "probability_extraction": {
        "count": 1,
        "total_time_ms": 355.03534227609634,
        "avg_time_ms": 355.03534227609634,
        "min_time_ms": 355.03534227609634,
        "max_time_ms": 355.03534227609634,
        "avg_memory_delta_mb": 0.0
      }
    },
    "memory": {
      "peak_allocated_mb": 7470.6298828125,
      "avg_allocated_mb": 5287.2930908203125,
      "avg_utilization_percent": 87.3125,
      "snapshots_count": 112
    },
    "bottlenecks": [
      {
        "operation": "inference_calibration",
        "time_percent": 47.376245207211895,
        "recommendation": "Inference is slow. Consider: larger batch size, Flash Attention, or quantization."
      },
      {
        "operation": "inference_test",
        "time_percent": 47.74536252135554,
        "recommendation": "Inference is slow. Consider: larger batch size, Flash Attention, or quantization."
      }
    ]
  },
  "timing_records": [
    {
      "name": "dataset_loading",
      "duration_ms": 2231.5818145871162,
      "gpu_memory_before_mb": 0.0,
      "gpu_memory_after_mb": 0.0,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "rc",
        "num_samples": 10000
      }
    },
    {
      "name": "dataset_processing",
      "duration_ms": 27.803149074316025,
      "gpu_memory_before_mb": 0.0,
      "gpu_memory_after_mb": 0.0,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "task": "rc"
      }
    },
    {
      "name": "model_loading",
      "duration_ms": 9297.269154340029,
      "gpu_memory_before_mb": 0.0,
      "gpu_memory_after_mb": 4196.35205078125,
      "gpu_memory_delta_mb": 4196.35205078125,
      "metadata": {
        "model": "tinyllama-1.1b",
        "dtype": "float32"
      }
    },
    {
      "name": "inference_calibration",
      "duration_ms": 115679.73408102989,
      "gpu_memory_before_mb": 4196.35205078125,
      "gpu_memory_after_mb": 4204.47705078125,
      "gpu_memory_delta_mb": 8.125,
      "metadata": {
        "model": "tinyllama-1.1b",
        "strategy": "base",
        "num_samples": 4999,
        "batch_size": 26
      }
    },
    {
      "name": "inference_test",
      "duration_ms": 116581.01683482528,
      "gpu_memory_before_mb": 4204.47705078125,
      "gpu_memory_after_mb": 4204.47705078125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "tinyllama-1.1b",
        "strategy": "base",
        "num_samples": 5001,
        "batch_size": 26
      }
    },
    {
      "name": "probability_extraction",
      "duration_ms": 355.03534227609634,
      "gpu_memory_before_mb": 4204.47705078125,
      "gpu_memory_after_mb": 4204.47705078125,
      "gpu_memory_delta_mb": 0.0,
      "metadata": {
        "model": "tinyllama-1.1b"
      }
    }
  ],
  "snapshots_summary": {
    "count": 112,
    "memory_allocated_mb": [
      5904.48828125,
      5918.7734375,
      5948.9326171875,
      5896.5517578125,
      5971.1552734375,
      5860.04296875,
      5875.916015625,
      5910.8369140625,
      5910.8369140625,
      5915.5986328125,
      5885.4404296875,
      5879.0908203125,
      7101.79296875,
      5909.25,
      5880.677734375,
      5860.04296875,
      5917.1865234375,
      5880.677734375,
      5898.138671875,
      5872.7412109375,
      5926.7099609375,
      5920.361328125,
      5885.4404296875,
      5902.900390625,
      5872.7412109375,
      5880.677734375,
      5923.53515625,
      5894.9638671875,
      5893.376953125,
      5890.2021484375,
      5909.25,
      5931.4716796875,
      5855.28125,
      5887.02734375,
      5882.8974609375,
      5934.91015625,
      5934.91015625,
      5907.662109375,
      5872.7412109375,
      5883.8525390625,
      5890.8994140625,
      5931.4716796875,
      5898.138671875,
      5894.9638671875,
      5902.900390625,
      5716.34375,
      5902.900390625,
      5937.8212890625,
      5815.5986328125,
      5863.2177734375,
      5855.28125,
      5936.234375,
      5896.5517578125,
      5872.7412109375,
      5921.9482421875,
      6034.935546875,
      5874.3291015625,
      5918.7734375,
      7470.6298828125,
      5936.234375,
      5915.5986328125,
      5990.9248046875,
      5933.0595703125,
      5925.123046875,
      5875.916015625,
      5883.8525390625,
      5834.646484375,
      5929.884765625,
      5877.50390625,
      5845.7578125,
      5936.234375,
      5969.5673828125,
      5914.01171875,
      5885.4404296875,
      5912.4248046875,
      5833.05859375,
      5890.2021484375,
      5850.51953125,
      5934.646484375,
      7179.931640625,
      5958.4560546875,
      5920.361328125,
      5928.2978515625,
      6790.46337890625,
      5880.677734375,
      5875.916015625,
      5894.9638671875,
      5906.0751953125,
      5915.5986328125,
      5890.2021484375,
      5904.48828125,
      6770.62060546875,
      5925.123046875,
      5910.8369140625,
      4204.47705078125,
      2742.36767578125,
      894.19580078125,
      8.125,
      8.125,
      8.125
    ],
    "utilization_percent": [
      100,
      100,
      100,
      100,
      100,
      97,
      100,
      100,
      100,
      100,
      100,
      100,
      83,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      87,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      92,
      100,
      100,
      100,
      100,
      100,
      85,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      86,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      100,
      65,
      16,
      38,
      0,
      0,
      0
    ]
  }
}